document.getElementById('register-form').addEventListener('submit', async (e) => {\n    e.preventDefault();\n    const username = document.getElementById('register-username').value;\n    const password = document.getElementById('register-password').value;\n    const response = await fetch('http://localhost:8000/functions/ajwt/register', {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({username, password})\n    });\n    const result = await response.json();\n    if (result.status === 'success') {\n        alert('Registration successful!');\n    } else {\n        alert('Error: ' + result.message);\n    }\n});\n\ndocument.getElementById('login-form').addEventListener('submit', async (e) => {\n    e.preventDefault();\n    const username = document.getElementById('login-username').value;\n    const password = document.getElementById('login-password').value;\n    const response = await fetch('http://localhost:8000/functions/ajwt/login', {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({username, password})\n    });\n    const result = await response.json();\n    if (result.token) {\n        localStorage.setItem('token', result.token);\n        window.location.href = 'protected.html';\n    } else {\n        alert('Error: ' + result.message);\n    }\n});\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n    if (window.location.pathname.endsWith('protected.html')) {\n        const token = localStorage.getItem('token');\n        if (!token) {\n            alert('Not authenticated');\n            window.location.href = 'index.html';\n            return;\n        }\n        const response = await fetch('http://localhost:8000/functions/ajwt/protected', {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({token})\n        });\n        const result = await response.json();\n        if (result.status === 'success') {\n            document.getElementById('content').innerHTML = `<h2 class="text-2xl">${result.data}</h2>\n                <button id="logout" class="mt-4 px-4 py-2 bg-red-500 text-white rounded">Logout</button>`;\n            document.getElementById('logout').addEventListener('click', () => {\n                localStorage.removeItem('token');\n                window.location.href = 'index.html';\n            });\n        } else {\n            alert('Error: ' + result.message);\n            window.location.href = 'index.html';\n        }\n    }\n});